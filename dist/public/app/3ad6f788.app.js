"use strict";angular.module("weddingApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0)}]),angular.module("weddingApp").service("airportService",["$http",function(a){return{getAirports:function(){return a.get("assets/json/airports.json")}}}]),angular.module("weddingApp").controller("CeremonyCtrl",["$scope","airportService",function(a,b){a.numberOfPassengers="";var c=function(b){a.airports=b};a.airports=[],b.getAirports().success(c),a.selectedAirport,a.airportFilter=function(a,b){return b&&(b=b.toLowerCase()),a.filter(function(a){var c=-1!=a.city.toLowerCase().indexOf(b),d=-1!=a.code.toLowerCase().indexOf(b),e=-1!=a.name.toLowerCase().indexOf(b);return c||d||e})},a.modelOptions={debounce:{"default":500,blur:250},getterSetter:!0},a.depart=new Date(2016,4,5),a["return"]=new Date(2016,4,9),a.minDate=new Date(2016,4,3),a.maxDate=new Date(2016,4,20),a.clear=function(){a.depart=null,a["return"]=null},a.open1=function(){a.popup1.opened=!0},a.open2=function(){a.popup2.opened=!0},a.dateOptions={formatYear:"yy",startingDay:1},a.popup1={opened:!1},a.popup2={opened:!1};var d="https://global.southwest.com/southwest/dyn/air/booking/availability?DATE_1={{DepartDate}}&DATE_2={{ReturnDate}}&TRIP_TYPE=R&B_LOCATION_1={{DepartCity}}&E_LOCATION_1=PVR&E_LOCATION_2=&IS_FLEXIBLE=FALSE&NB_ADT={{NumPass}}&NB_YCD=0&USE_DING=FALSE&USE_POINTS=FALSE&PROMO_CODE=&ENC=&ENCT=2&LANGUAGE=US&SITE=ADCQADCQ&MAX_AIR_AVAIL_DAYS=200&PORTAL_DOMAIN=&MARKETS=&int=",e="https://www.kayak.com/flights/{{DepartCity}}-PVR/{{DepartDate}}/{{ReturnDate}}",f="{{NumPass}}",g="{{DepartCity}}",h="{{DepartDate}}",i="{{ReturnDate}}",j=function(a){return 10>a?"0"+a:""+a},k=function(a){return a.getUTCFullYear().toString()+j(a.getMonth()+1)+j(a.getDate())+"0000"},l=function(a){return a.getUTCFullYear().toString()+"-"+j(a.getMonth()+1)+"-"+j(a.getDate())};a.southwestUrl=function(){var b=parseInt(a.numberOfPassengers),c=isNaN(b)?1:b;return a.selectedAirport?d.replace(g,a.selectedAirport.code).replace(h,k(a.depart)).replace(i,k(a["return"])).replace(f,c.toString()):"https://www.southwest.com"},a.kayakUrl=function(){return a.selectedAirport?e.replace(g,a.selectedAirport.code).replace(h,l(a.depart)).replace(i,l(a["return"])):"https://www.kayak.com/flights"}}]),angular.module("weddingApp").config(["$stateProvider",function(a){a.state("ceremony",{url:"/ceremony",templateUrl:"app/ceremony/ceremony.html",controller:"CeremonyCtrl"})}]),angular.module("weddingApp").service("emailService",["$http",function(a){return{saveEmail:function(b){return a.post("/api/emails",b)}}}]),angular.module("weddingApp").controller("MainCtrl",["$scope","$http",function(a,b){}]),angular.module("weddingApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("weddingApp").controller("PartyMsyCtrl",["$scope",function(a){}]),angular.module("weddingApp").config(["$stateProvider",function(a){a.state("msy",{url:"/party/msy",templateUrl:"app/parties/msy/msy.html",controller:"PartyMsyCtrl"})}]),angular.module("weddingApp").controller("ORDCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("weddingApp").config(["$stateProvider",function(a){a.state("ORD",{url:"/party/ord",templateUrl:"app/parties/ORD/ORD.html",controller:"ORDCtrl"})}]),angular.module("weddingApp").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){var g={};return e.get("token")&&(g=d.get()),{login:function(a,b){var h=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),g=d.get(),i.resolve(a),h()}).error(function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),g={}},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),g=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){return g.hasOwnProperty("role")},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return e.get("token")}}}]),angular.module("weddingApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("weddingApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("weddingApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("weddingApp").controller("NavbarCtrl",["$scope","$location","emailService",function(a,b,c){a.menu=[{title:"Home",link:"/"},{title:"Wedding",link:"/ceremony"},{title:"Parties",link:"/parties"}],a.email="",a.name="",a.welcomeText="",a.pattern=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,a.saveEmail=function(b,d){b&&(13!==b.keyCode||d.$pristine||d.$dirty&&d.$invalid||""===a.name)||(c.saveEmail({name:a.name,email:a.email}),a.welcomeText="We got ya covered, "+a.name+"!")},a.isActive=function(a){return a===b.path()},a.showWelcomeText=function(){return""!==a.welcomeText}}]),angular.module("weddingApp").run(["$templateCache",function(a){a.put("app/ceremony/ceremony.html",'<div class=col-md-12><div class="col-md-8 pull-left"><h3>The Need To Know</h3><span>The plan: exchange vows on the beach with everyone who is able to join us. After the ceremony (25 minutes max in the sun, we promise) we’re headed to one of the resort bars or restaurants (TBD, obvi) opening a tab, and it’s open bar/ food for our people who want to party with us! (AKA, tear it up!)</span><br><h3>How to get there</h3><b>Please be sure to double check everything before you buy - dates / number of passengers might be off on the actual site. Also note, this only works with travel originating in US airports.</b><div class=col-md-12><div class=col-md-3><input ng-model=selectedAirport placeholder=Airport uib-typeahead="airport as \'(\' + airport.code + \') \' + airport.city for airport in airportFilter(airports, $viewValue)" class=form-control typeahead-show-hint=true typeahead-min-length=0></div><div class=col-md-3><p class=input-group><input class=form-control uib-datepicker-popup=shortDate ng-model=depart is-open=popup1.opened min-date=minDate max-date=maxDate datepicker-options=dateOptions ng-required=true close-text=Close alt-input-formats="altInputFormats"> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=open1()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class=col-md-3><p class=input-group><input class=form-control uib-datepicker-popup=shortDate ng-model=return is-open=popup2.opened min-date=minDate max-date=maxDate datepicker-options=dateOptions date-disabled="disabled(date, mode)" ng-required=true close-text="Close"> <span class=input-group-btn><button type=button class="btn btn-default" ng-click=open2()><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><div class=col-md-3><input class=form-control placeholder="# of Passengers" ng-model=numberOfPassengers aria-describedby=basic-addon1></div></div><div class=col-md-12><div class="col-md-11 pull-right"><table><tbody><tr><td><img src=assets/images/southwest.jpg width=45px></td><td><a ng-href={{southwestUrl()}}>Southwest</a></td><td>NOTE * Los Angeles - Fly out of (SMA) Santa Ana, Chicago - Fly out of (MDW) Midway</td></tr><tr><td><img src=assets/images/kayak.jpg width=45px></td><td><a ng-href={{kayakUrl()}}>Kayak</a></td><td>Pretty good resource for flights.</td></tr></tbody></table><br></div></div><div class=col-md-12><h3>Where to stay</h3><p>Good news: we were able to get great rates on rooms at the all-inclusive resort In PV where we will be getting married. Less fortunate news: for us to get such a good rate, we had to work through a 3rd party team that had to settle for travel agency jobs instead of writing code for rockets. Ipso facto, in order to get to these all-inclusive rooms, you have to sign up on their tacky website (our most sincere apologies [for all you computer peeps—yes, Kyle tried to strip the URLS and make it work without signup and YES he altered their URL so that you would not have to put in the “word of mouth password” and NO he didn’t have time to re-write their shit for them…NO DDOSing them will not help solve anything])… However…the rooms and the rates are BOOMTASTIC! Seriously…all inclusive…infinity pools…views of the pacific coast…amazing service...</p><p>…on a related note, if you contact Meagan or Kyle directly, we can help get you set up! We have the inside track!</p></div><div class=col-md-12><div class="col-md-11 pull-right"><table><tbody><tr><td><img src=assets/images/now_amber_logo.jpg width=45px></td><td style=width:80px><a href="http://www.destinationweddings.com/Weddings/Guests/AttendaWedding.aspx?dw_weddingcode=WEAREGETTINGMARRIED&dw_bname=Wall">Amber Secrets</a></td><td>This will bring you to our travel agent to get an all-incluse room at the restort! Think infinity pools to your room, all you can drink, amazing spa.</td></tr><tr><td><img src=assets/images/casa_salinas_i.jpg width=45px></td><td><a href="http://www.casasalinas-vallarta.com/villas/casa-salinas-i/">Casa Salinas I</a></td><td>Get the villa right next door! (Min 14, Max 18)</td></tr><tr><td><img src=assets/images/villa_logo.jpg width=45px></td><td><a href="http://www.luxuryretreats.com/North-America/Mexico/Puerto-Vallarta/">Get yo\' own villa!</a></td><td>Are you coming with a bunch of friends? There might be a villa for that! There’s one next door to the villa where we and the immediate family are staying and other options to fit your group needs. (NOTE: most villas require a minimum of 10 guests/5 filled rooms.)</td></tr></tbody></table><br></div></div></div><div class="col-md-4 pull-right"><img src=assets/images/meagan_kyle_ocean.jpg class=pull-right width=400px></div></div>'),a.put("app/main/main.html",'<div class=container><div class="col-md-12 photo-center"><img src=assets/images/meagan_kyle_billygoat.jpg width=350 style=padding:20px></div></div><div class=container><div class=col-md-2></div><div class=col-md-8><h4><p><i>Dear family and friends,</i></p></h4><p class=letter-text>You are here because we love you, and therefore you have received a piece of mail that directed you to this elaborate website (even if this is the first time you are virtually meeting Meagan or Kyle, one of the two of us loves you and therefore you are important to both of us). Bear with me now...</p><p class=center-quote><i>"Once upon a time, two people fell in love and decided nothing would make them happier than to spend every day of the rest of their lives together. The end…"</i></p><p class=letter-text>…reads no wedding script EVER!</p><p class=letter-text>What is a wedding? Two people in love who, in front of all of the humans who are so important that the couldn’t imagine proclaiming something so powerful without having them there to witness it, vow to spend all of their days and nights loving each other more than anything. Easy peasy….until you start thinking about everyone who matters to you and how each of those humans would make the most important day of their lives (so far) even more fantastic.</p><p class=letter-text>Meagan is from the Chicago-land area and her people have spread through the mid-west, the south, the planet... Kyle is from all over the South and his people are similarly spread out. And then the two of them left the homeland half a decade ago, moved to Los Angeles and have build a network of friends and family out here.</p><hr><p class=letter-text style=text-align:left;padding-left:50px;padding-right:75px><b><i>Before reading further, see upper right hand corner to sign up for emails to keep up-to-date on essential wedding things and the to-be-announced party dates. We promise we won’t sell your email address!</i></b></p><hr><p class=letter-text><b><i>Question 1:</i></b>How do two people who have so many important individuals find a way to celebrate the best thing that has ever happened to them?</p><p class=letter-text><b><i>Answer 1:</i></b> One wedding + three parties. Bingo bango.</p><p class=letter-text><b>A)</b> Kyle and Meagan (us) will be exchanging vows in Puerto Vallarta, Mexico on May 7th. Yes, that is wicked soon, but we don’t want to wait. Click the “Wedding” tab at the top of your page to find out more about how you can take a vaca to Mexico and have fun at a simple beach wedding with a rockin’ party while staying at an all-inclusive resort or villa.</p><p class=letter-text><b>B)</b> We will also be hosting parties in New Orleans, Chicago, and Los Angeles around the time of the wedding so that all of our people can decide where and when they are able to join in on the fun.</p><p class=letter-text><b><i>Question 2:</i></b> So…my “Save-the-Date” is pretty generic and directed me to this website. Exactly which event am I invited to?”</p><p class=letter-text><b><i>Answer 2:</i></b> Choose your own adventure! Think of it like an a’la carte menu: you choose any and all events you’d like to attend. We know that everyone has family, work, school, and travel constraints scheduled so we want this to be as fun and easy as possible. Want to come to all four events? Great! Only want to come to Los Angeles and New Orleans? Yay! Can only make it to Chicago? Super! RSVP for the event(s) you plan on attending, make your arrangements, and we’ll see you there. We’ll help you as much as we can along the way; you’ll find ways to find lodging, flights, and descriptions of the shenanigans so you can best plan your journey(s).</p><p>We are coming to you! <a href="https://www.google.com/maps/d/edit?mid=zskgaFZpiug8.kzjN-1mqfeSk&usp=sharing">(if you cant figure out which skyline you are closest to... )</a></p><div><img src=assets/images/love_meagan_kyle.png width=100%></div></div><div class=col-md-2></div><div class=container><div class=col-md-3><a href=/ceremony><img src=assets/images/pv_beach_line.jpg width=200 height=200></a></div><div class=col-md-3><a><img src=assets/images/new_orleans_skyline_2.jpg width=200 height=200></a></div><div class=col-md-3><img src=assets/images/chicago_skyline.jpg width=200 height=200></div><div class=col-md-3><img src=assets/images/los_angeles_skyline.jpg width=200 height=200></div></div></div><footer class=footer><div class=container><a class=letter-text href="https://xkcd.com/162/">Put simply...</a></div><div><p class=letter-text><i>NOTE: No one wakes up one morning and has a wedding fully planned (unless you have an overly-caffeinated, overly-paid woman with too much makeup, hair extensions, and a pseudo-degree designated as your “wedding planner”). Therefore, this is a living and breathing site. As mentioned earlier, <a href=#navbar>in your upper right hand corner</a> you can sign up for automatic email updates to the events. I promise, they will only be highly relevant pieces of information (dates, locations, etc.) and they will stop, permanently, as soon as all events are complete. As someone who hates unnecessary email, I highly recommend registering.</i></p></div></footer>'),a.put("app/parties/msy/msy.html",'<div class=col-md-12><div class=col-md-12><div class=col-md-6><h1>New Orleans, Louisiana</h1><h2>When: TBD</h2><br><h3>The Big Easy:</h3><p>This is Kyle\'s old stomping grounds. It is where he is from, and it is the best place to throw a party! We will be holding a crawfish boil and partying the entire weekend! Prepare for non-stop fun, trips to the french quarter, quite a few drinks, and GREAT food!</p><h3>CRAWFISH!</h3><p>Crawfish is a Louisiana "delicacy." Most parties between the end of January and the beginning of June showcase lots of beer, mudbugs, and tons of fun. Prepare for outdoor fun games like cornhole, beerpong, and flip-cup. As for the crawfish themselves, we usually make many batches over the course of a day - the latter batches usually get spicier. <b>Getting excited for crawfish? Check out the video below to find out how to eat them!</b></p></div><div class="col-md-6 pull-right"><img class=pull-right height=480 src=/assets/images/meagan_kyle_lsu.jpg></div></div><div class=col-md-12><div class="col-md-6 pull-left"><iframe class=pull-left width=100% height=480 src=https://www.youtube.com/embed/EndhxlX7Df8 frameborder=1px allowfullscreen></iframe></div><div class=col-md-6><h3>Where to stay.</h3><p>New Orleans can be a tricky place to figure out where to stay.</p><table><tbody><tr><td><img src=assets/images/kayak.jpg width=45px></td><td><a href=https://www.kayak.com/hotels/New-Orleans,LA-c22085/2016-04-15/2016-04-17/2guests>Kayak</a></td><td>This is the base line for prices. Not the best, definitely not the worst.</td></tr><tr><td><img src=assets/images/casa_salinas_i.jpg width=45px></td><td><a href="http://www.casasalinas-vallarta.com/villas/casa-salinas-i/">Casa Salinas I</a></td><td>Get the villa right next door!</td></tr><tr><td><img src=assets/images/villa_logo.jpg width=45px></td><td><a href="http://www.luxuryretreats.com/North-America/Mexico/Puerto-Vallarta/">Get yo own villa!</a></td><td>Cause you is a balla... or travelling with a group</td></tr></tbody></table><div><iframe src="https://www.google.com/maps/d/embed?mid=zskgaFZpiug8.k1-lbgyMDhY8" width=360 height=360></iframe></div></div></div><div class=col-md-12><div class="col-md-8 pull-right"><img height=480 src=/assets/images/meagan_kyle_tigerstadium.jpg></div><div class=col-md-4><h3>Things you will need for the weekend</h3><table><tbody><tr><td><img src=assets/images/yeti_coozie.jpg width=45px></td><td><a href="http://www.amazon.com/Yeti-YRAMCOL-Coolers-Rambler-Colster/dp/B00SU9ACGA/ref=sr_1_1?ie=UTF8&qid=1453193619&sr=8-1&keywords=yeti+coozie">A colster (preferably Yeti)</a></td><td>Get you one George!</td></tr><tr><td><img src=assets/images/sunscreen.jpg width=45px></td><td><a ng-href="http://www.amazon.com/Banana-Boat-Performance-Sunscreens-Technology/dp/B0030ZEGDY/ref=sr_1_3?s=beauty&ie=UTF8&qid=1453193877&sr=1-3&keywords=sunscreen">Sunscreen</a></td><td>It gets really hot/sunny in Louisiana.</td></tr><tr><td><img src=assets/images/lsu_jersey.jpg width=55px></td><td><a ng-href="http://www.fansedge.com/league/College/team/LSU_Tigers/category/3103/browse/featuredproduct/585581/partnerid/14071/source/csefe12-pla-id?sku=1759360&utm_content=control&gclid=Cj0KEQiAxMG1BRDFmu3P3qjwmeMBEiQAEzSDLpan-PaPj2CadsExM0xQcIMkx-22GPO_I4yFEMoWu9YaAvMH8P8HAQ">LSU Gear</a></td><td>Because you are invited to a party!</td></tr></tbody></table></div></div></div>'),a.put("app/parties/ord/ord.html",'<div class=col-md-12><div class=col-md-12><div class=col-md-6><h1>Chicago, Illinois - The South Side!</h1><h2>When: TBD</h2><br><h3>Why Chi-Town:</h3><span>This is Meagan\'s old stomping grounds. It is where she is from, and it is the best place to throw a party! We will be holding a backyard BBQ and partying the entire weekend!</span> <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vehicula nibh neque, quis dictum diam rutrum sed. Donec varius, neque mollis aliquet viverra, velit mauris ultrices arcu, a mollis magna turpis eget elit. Sed feugiat sed erat fermentum vehicula. Quisque eu facilisis lacus. Suspendisse eu justo massa. Cras auctor mi non convallis efficitur. Vivamus mauris nisi, vehicula nec est aliquam, tincidunt fermentum arcu. Vivamus est sapien, fringilla sed turpis a, congue consectetur mauris. Fusce eu metus vel eros scelerisque posuere. Vestibulum vel malesuada ipsum.</span></div><div class="col-md-6 pull-right"><img class=pull-right height=480 src=/assets/images/jerseys_chicago.jpg></div></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container-fluid><div class=navbar-header><a href="/" class=navbar-brand>Meagan & Kyle</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul><a name=navbar></a><form class="nav navbar-nav navbar-right form-inline" name=frm><div ng-show=!showWelcomeText() class=form-group><input name=email class=form-control placeholder="Email Address" ng-pattern=pattern ng-model=email ng-keyup="saveEmail($event, frm.email)"></div><div ng-show=!showWelcomeText() class=form-group><input name=name class=form-control placeholder="Your Name" ng-model=name ng-keyup="saveEmail($event, frm.email)"></div><span ng-show=showWelcomeText() ng-bind=welcomeText></span> <button ng-show=!showWelcomeText() ng-class="{\'btn-primary\':!(frm.email.$pristine || frm.email.$dirty && frm.email.$invalid) && !(frm.name.$pristine)}" ng-disabled="(frm.email.$pristine || frm.email.$dirty && frm.email.$invalid) && (frm.name.$pristine || frm.name.$dirty && frm.name.$invalid)" ng-minlength=1 ng-required=true type=button class="btn btn-default" ng-click=saveEmail()>Stay Informed!</button></form></div></div></div>')}]);